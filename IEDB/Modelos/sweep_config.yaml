# ================================================================== #
# ðŸŽ¯ W&B Hyperparameter Sweep Configuration                          #
# ================================================================== #
# ConfiguraÃ§Ã£o para otimizar precision atravÃ©s dos pesos da loss function

program: main.py
method: bayes

# MÃ©trica a ser otimizada
metric:
  name: test/f1_precision_combined  # MÃ©dia harmÃ´nica de F1 e Precision
  goal: maximize

# HiperparÃ¢metros a serem otimizados
parameters:
  # â”€â”€â”€â”€â”€â”€ Pesos da Loss Function (foco principal) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  pos_class_weight:
    distribution: uniform
    min: 1.0      # Peso balanceado
    max: 10.0     # Peso alto para melhorar precision significativamente
  
  loss_weight_multiplier:
    distribution: uniform
    min: 0.5      # Reduzir efeito geral
    max: 3.0      # Amplificar efeito geral
  
  # â”€â”€â”€â”€â”€â”€ Learning Rate (pode afetar convergÃªncia) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  lr:
    distribution: log_uniform_values
    min: 1e-6     # LR muito baixo
    max: 1e-3     # LR alto para modelos ESMC
  
  # â”€â”€â”€â”€â”€â”€ Weight Decay (regularizaÃ§Ã£o) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  weight_decay:
    distribution: uniform
    min: 0.0      # Sem regularizaÃ§Ã£o
    max: 0.1      # RegularizaÃ§Ã£o alta
  
  # â”€â”€â”€â”€â”€â”€ Dropout (regularizaÃ§Ã£o do modelo) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  dropout:
    distribution: uniform
    min: 0.0      # Sem dropout
    max: 0.5      # Dropout alto para evitar overfitting

# ConfiguraÃ§Ã£o do sweep
early_terminate:
  type: hyperband
  min_iter: 4     # MÃ­nimo 3 Ã©pocas antes de terminar
  max_iter: 20    # MÃ¡ximo 50 Ã©pocas
  s: 2
  eta: 3

# Quantos runs executar
run_cap: 50

# Comando base para execuÃ§Ã£o
command:
  - python
  - main.py
  - ${args}  # W&B controlarÃ¡ early terminate externamente quando necessÃ¡rio 